import"./stats/index.js";import"./advancements/index.js";import{saveGame,loadGame,isButton}from"./utils/index.js";import*as shop from"./shop/index.js";import*as buttonEvents from"./buttonEvents/index.js";import*as intervals from"./intervals/index.js";import*as utils from"./utils/index.js";if(new URLSearchParams(globalThis.location.search).has("dev"))for(let s of[shop,intervals,utils])for(let[e,t]of Object.entries(s))globalThis[e]=t;for(let[e,t]of Object.entries(buttonEvents))globalThis[e]=t;loadGame(),window.addEventListener("beforeunload",()=>{globalThis.noSaveOnExit||saveGame()});let maxKeyPerSec=90,lastKeyEvent=0;globalThis.addEventListener("keydown",e=>{var t;if("Enter"==e.key&&isButton(e.target))return(t=Date.now())-lastKeyEvent<=maxKeyPerSec?e.preventDefault():void(lastKeyEvent=t)});
import{createElement}from"../utils/index.js";class Advancement{id;message;unlockCondition;textBox;unlockedTimestamp;messageElement;get unlocked(){return!!this.unlockCondition()&&(this.unlockedTimestamp??=Date.now(),!0)}get formattedTime(){return this.unlockedTimestamp?new Date(this.unlockedTimestamp).toLocaleString(void 0,{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}):null}writeMessage(){return this.messageElement=createElement("p",{id:this.id,innerHTML:`<time datetime="${new Date(this.unlockedTimestamp).toISOString()}">${this.formattedTime}</time>: `+this.message},this.textBox),this.messageElement.scrollIntoView({behavior:"smooth"}),this.messageElement}constructor(e,t,i,s=document.querySelector("footer > #message-box")){this.id=e,this.message=t,this.unlockCondition=i.bind(this),this.textBox=s}toJSON(){return{unlockedTimestamp:this.unlockedTimestamp}}}export{Advancement};